##
# You should look at the following URL's in order to grasp a solid understanding
# of Nginx configuration files in order to fully unleash the power of Nginx.
# http://wiki.nginx.org/Pitfalls
# http://wiki.nginx.org/QuickStart
# http://wiki.nginx.org/Configuration
#

server {
	listen 80 default_server;
	listen [::]:80 default_server ipv6only=on;

	# Make site accessible from http://localhost/
	server_name localhost;
	access_log off;
	error_log /var/log/nginx/error.log notice;

	location / {
		root /home/kgoodwin/my/repos/file-collection-searcher/;
		autoindex off;
		index index.html;
	}

	location /files/ { # https://stackoverflow.com/questions/10631933/nginx-static-file-serving-confusion-with-root-alias
	   alias /var/www-filesearcher-data/;
	   autoindex on;
	   autoindex_exact_size off;
	}

	location ~ ^/cgi/ {
		root /home/kgoodwin/my/repos/file-collection-searcher/;
		rewrite ^/cgi/(.*) /$1 break;
		fastcgi_pass unix:/var/run/fcgiwrap.socket;
		include fastcgi_params;
	}
}
